<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../static/style.css">
    <title>Café Finigan - Pre-order Lunch Online</title>
    <meta name="description" content="order food and drinks from Café Finigan in advance. Browse the menu and pick up your order at your chosen time">
    <meta name="keywords" content="cafê, food, school lunch, pre-order, Café Finigan">
    <meta name="author" content="Henry Adamson">
    <link rel="icon" href="../static/images/logo.png" type="image/png">
</head>
<body>
    <!-- ----------- Header and Navigation ----------- -->
    <header class="site-header">
        <div class="container header-inner">

            <!-- -------- Brand Selection (Logo and Name) --------- -->
             <div class="brand">
                <img src="../static/images/logo.png" alt="Café Finigan Logo" class="logo">
                <span class="brand-name">Café Finigan</span>
             </div>

            <!-- -------- Navigation Menu) --------- -->
             <nav aria-label="Primary">
                <ul class="nav-list">
                    <li><a href="#">About</a></li>
                    <li><a href="menu.html">Menu</a></li>
                    <li><a href="#">Contact</a></li>
                </ul>
             </nav>
        </div>
    </header>
    <!-- ----------- Hero Section ----------- -->
    <section class="hero">
        <img src="../static/images/hero.jpg" alt="Café table with coffee and plants">
        <div class="hero-overlay container">
            <h1>Ready when you are!</h1>
            <p class="lead">Order ahead and skip the queue.</p>
        </div>
    </section>
    <!-- ----------- Tagline Section ----------- -->
    <section class="tagline">
       <div class="container">
           <h2>Fine, modern Australian cuisine.</h2>
       </div>
    </section>

    <!-- ----------- Main Content: Containers & Cards ----------- -->
    <main class="container">
        <section class="cards grid">
            <article class="card">
                <h2>Opening Hours</h2>
                <table class="hours">
                    <tr><th>Mon-Fri</th><td>7:00-15:00</td></tr>
                    <tr><th>Sat</th><td>8:00-14:00</td></tr>
                    <tr><th>Sun</th><td>Closed</td></tr>
                </table>
            </article>

            <article class="card">
                <h2>Location</h2>
                <p>77 Agnes Ave,<br>Queanbeyan NSW 2620</p>
                <p><a href="https://maps.app.goo.gl/scVkD8QmyMTWA83HA" target="_blank" rel="noopener">View on Maps</a></p>
                <p class="note">Pick up at counter. Parking available on Agnes Ave.</p>
            </article>
        </section>
    </main>

    <!-- ----------- Adding feedback ----------- -->
     <section class="container" style="text-align: center; margin-top: 1.5rem;">
        <h2>Tell us what your think</h2>
        <p class="note">This form sends your message to the Flask server.</p>

        <form id="feedback-form" style="max-width: 400px; margin: 0 auto;">
            <textarea name="feedback" id="feedback-message" rows="3" required></textarea><br>
            <button type="submit" class="add-btn">Send feedback</button>
        </form>

        <p id="feedback-response" class="note" style="margin-top: 0.5rem;"></p>
     </section>
    <!-- ----------- Footer Section ----------- -->
    <footer class="site-footer">
        <div class="container">
            © 2025 Café Finigan • <a href="#">Privacy</a>
        </div>
    </footer>

<!-- ---------- Script: Send form data to Flask and display response ---------- -->
<script>
    const form = document.getElementById('feedback-form');
    const textarea = document.getElementById('feedback-message');
    const output = document.getElementById('feedback-response');

    // Handle form submission
    form.addEventListener('submit', function (event) {
        event.preventDefault(); // Stop page reload

        const message = textarea.value.trim();

        // Send message to Flask using trim()
        fetch("http://127.0.0.1:5050/feedback", {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify({message})
        })
        .then(res => res.json())
        .then(data => {
            // Show Flask's replay
            output.textContent = data.response || data.error;
            textarea.value = ""; // Clear form after sending
        })
        .catch(() => {
            output.textContent = "Content not reach the server. Is Flask running?";
        })
    })
</script>
</body>
</html>